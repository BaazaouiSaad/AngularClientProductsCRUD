<h2>Update Product</h2>

<form [formGroup]="updateProductForm" (ngSubmit)="onSubmit(buttonType)">
  <label>Product ID: </label>
  <select formControlName="name" (change)="onChange($event)">
    <option disabled>Select Product ID</option>
    <option *ngFor="let product of products_list">{{product.id}}</option>
  </select>
  <br />
  <label>Product Name: </label>
  <input type="text" formControlName="productname" />
  <br />
  <label>Quantit√©:</label>
  <input type="text" formControlName="quantite" />
  <br />
  <label>Prix:</label>
  <input type="text" formControlName="prix" /> $
  <br />

  <div
    *ngIf="updateProductForm.get('productname').invalid && (updateProductForm.get('productname').dirty || updateProductForm.get('productname').touched)"
    class="alert-danger"
  >
    <!-- Validation for quantite -->
    <p
      class="small"
      *ngIf="updateProductForm.get('productname').errors.required"
    >
      ProductName is required.
    </p>
    <p
      class="small"
      *ngIf="updateProductForm.get('productname').errors.minlength"
    >
      ProductName cannot be more than 30 characters long.
    </p>
    <p
      class="small"
      *ngIf="updateProductForm.get('productname').errors.minlength"
    >
      ProductName must be at least 2 characters long.
    </p>
  </div>

  <div
    *ngIf="updateProductForm.get('quantite').invalid && (updateProductForm.get('quantite').dirty || updateProductForm.get('quantite').touched)"
    class="alert-danger"
  >
    <!-- Validation for quantite -->
    <p class="small" *ngIf="updateProductForm.get('quantite').errors.required">
      Quantite is required.
    </p>
    <p class="small" *ngIf="updateProductForm.get('quantite').errors.max">
      Quantite must not exeed 20 article.
    </p>
  </div>

  <div
    *ngIf="updateProductForm.get('prix').invalid && (updateProductForm.get('prix').dirty || updateProductForm.get('prix').touched)"
    class="alert-danger"
  >
    <!-- Validation for quantite -->
    <p class="small" *ngIf="updateProductForm.get('prix').errors.required">
      Price is required.
    </p>
  </div>

  <input
    type="submit"
    value="Update"
    (click)="onSubmit('Update')"
    [disabled]="!updateProductForm.valid"
  />
  <input
    type="submit"
    value="Delete"
    (click)="onSubmit('Delete')"
    [disabled]="!updateProductForm.valid"
  />
</form>
